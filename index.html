<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktywne Por√≥wnanie Ofert Noclegowych - Zakopane</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Leaflet CSS for map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha2d1-ZSpT5+PlfR/uOaD3X9bKkYJ7Qf/3NqE5B2U5fP5p6Nf+KxLz/uU6Z3/oXw2+Z2u+" crossorigin=""/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Deep Forest Green -->
    <!-- Application Structure Plan: A single-page dashboard designed for decision-making. The structure prioritizes user interaction over mirroring the source report's linear flow. It consists of: 1. A global navigation bar for quick scrolling. 2. A powerful control panel with sorting and filtering options (by price, distance, amenities, availability), which is the primary interaction hub. 3. An interactive grid of "offer cards" that dynamically updates based on user selections, presenting key information concisely. 4. A visualization section with bar charts for at-a-glance comparison of price and location trade-offs. 5. A map visualization section showing accommodation locations. 6. A final summary and recommendations section to guide the user's choice. This task-oriented design empowers the user to explore the data according to their personal priorities (e.g., "show me the cheapest available options with a jacuzzi"), making the complex data from the report easily digestible and comparable. -->
    <!-- Visualization & Content Choices: The core of the application is the transformation of static report entries into interactive elements. Report Info: Each accommodation offer. Goal: Compare options based on multiple criteria. Viz/Presentation Method: An interactive card grid (HTML/Tailwind/JS) including a "Poka≈º Konwersacjƒô" button that opens a modal displaying the chat transcript. Interaction: Users can filter and sort the cards. Clicking the button opens a fullscreen modal for reading chat content. Justification: Cards are more flexible and mobile-friendly than a static table, allowing for a clearer presentation of varied information. Chat transcripts provide direct context for data. Report Info: Price and Distance data. Goal: Provide a high-level visual summary of key trade-offs. Viz/Presentation Method: Two separate bar charts (Chart.js/Canvas). Interaction: Tooltips on hover provide exact values. Justification: Bar charts are ideal for comparing discrete values across different categories, making the cost-vs-location dilemma immediately apparent. Report Info: Geographic locations of accommodations. Goal: Provide visual context of proximity to Krup√≥wki and other points. Viz/Presentation Method: Interactive Map (Leaflet.js/Canvas-based tiles). Interaction: Users can pan, zoom, and click markers for info. Justification: A map is essential for understanding spatial relationships and travel implications, directly addressing the user's need for location comparison. All interactions are handled by vanilla JavaScript, ensuring a lightweight and fast experience. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8; /* Warm off-white */
            color: #383838;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #2F5233; /* Dark Green */
        }
        .filter-btn, .sort-select {
            transition: all 0.3s;
        }
        .filter-btn.active {
            background-color: #4A7856; /* Green */
            color: #ffffff;
            border-color: #4A7856;
        }
        .card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.8); /* Black w/ opacity */
            align-items: center;
            justify-content: center;
        }
        .modal-content-chat {
            background-color: #ffffff;
            margin: auto;
            padding: 2rem;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* shadow-2xl */
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }
        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        .chat-message {
            padding: 0.75rem;
            border-radius: 0.5rem;
            max-width: 80%;
            word-wrap: break-word;
        }
        .chat-user {
            background-color: #e0f2f1; /* Light green */
            align-self: flex-end;
            margin-left: auto;
        }
        .chat-owner {
            background-color: #f0f0f0; /* Light gray */
            align-self: flex-start;
            margin-right: auto;
        }
        /* Map container specific styles */
        #map {
            height: 500px; /* Default height */
            width: 100%;
        }
        @media (min-width: 768px) {
            #map {
                height: 600px; /* Taller on larger screens */
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-[#2F5233]">Noclegi Zakopane 2025</h1>
            <div class="hidden md:flex space-x-6 text-gray-600 font-medium">
                <a href="#porownanie" class="nav-link">Por√≥wnanie</a>
                <a href="#wizualizacje" class="nav-link">Wykresy</a>
                <a href="#mapa" class="nav-link">Mapa</a>
                <a href="#podsumowanie" class="nav-link">Podsumowanie</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8 md:py-12">
        <section id="intro" class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Znajd≈∫ Idealny Nocleg na Wakacje</h2>
            <p class="max-w-3xl mx-auto text-gray-600">
                Ta interaktywna strona pomo≈ºe Ci por√≥wnaƒá zweryfikowane oferty noclegowe w Zakopanem i okolicach na termin 26.07 - 02.08.2025 dla 8 os√≥b. U≈ºyj filtr√≥w i sortowania, aby znale≈∫ƒá opcjƒô najlepiej dopasowanƒÖ do Twoich potrzeb. Dane pochodzƒÖ z analizy ofert i rozm√≥w z w≈Ça≈õcicielami.
            </p>
        </section>

        <section id="porownanie" class="scroll-mt-24">
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-10">
                <h3 class="text-2xl font-bold mb-6">Filtruj i Sortuj Oferty</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-2">
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Filtruj wg dostƒôpno≈õci:</label>
                        <div id="availability-filter" class="flex flex-wrap gap-2">
                            <button data-filter="Dostƒôpny" class="filter-btn text-sm font-medium py-2 px-4 rounded-full border border-gray-300 bg-white">‚úÖ W pe≈Çni dostƒôpne</button>
                            <button data-filter="Czƒô≈õciowo" class="filter-btn text-sm font-medium py-2 px-4 rounded-full border border-gray-300 bg-white">‚ö†Ô∏è Czƒô≈õciowo dostƒôpne</button>
                            <button data-filter="Wymaga Potwierdzenia" class="filter-btn text-sm font-medium py-2 px-4 rounded-full border border-gray-300 bg-white">‚ùì Wymaga potwierdzenia</button>
                            <button data-filter="Brak Danych" class="filter-btn text-sm font-medium py-2 px-4 rounded-full border border-gray-300 bg-white">‚õî Brak Danych</button>
                        </div>
                    </div>
                    <div>
                        <label for="sort-by" class="block text-sm font-semibold mb-2 text-gray-700">Sortuj wed≈Çug:</label>
                        <select id="sort-by" class="sort-select w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 focus:ring-2 focus:ring-[#4A7856] focus:border-[#4A7856] outline-none">
                            <option value="price_asc">Cena: od najni≈ºszej</option>
                            <option value="price_desc">Cena: od najwy≈ºszej</option>
                            <option value="dist_asc">Odleg≈Ço≈õƒá: od najbli≈ºszej</option>
                            <option value="dist_desc">Odleg≈Ço≈õƒá: od najdalszej</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="offers-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            </div>
        </section>

        <section id="wizualizacje" class="mt-16 scroll-mt-24">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Wizualne Por√≥wnanie Ofert</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h3 class="text-xl font-bold text-center mb-4">Por√≥wnanie Ceny Ca≈Çkowitej (7 nocy)</h3>
                    <p class="text-center text-sm text-gray-500 mb-6">Dotyczy ofert z potwierdzonƒÖ cenƒÖ.</p>
                    <div class="chart-container">
                        <canvas id="priceChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h3 class="text-xl font-bold text-center mb-4">Szacowana Odleg≈Ço≈õƒá od Krup√≥wek</h3>
                     <p class="text-center text-sm text-gray-500 mb-6">Dotyczy ofert ze znanƒÖ lokalizacjƒÖ.</p>
                    <div class="chart-container">
                        <canvas id="distanceChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="mapa" class="mt-16 scroll-mt-24">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Mapa Ofert Noclegowych</h2>
            <p class="max-w-3xl mx-auto text-center text-gray-600 mb-8">
                Poni≈ºej znajduje siƒô interaktywna mapa z zaznaczonymi przybli≈ºonymi lokalizacjami nocleg√≥w. Centrum mapy to Krup√≥wki w Zakopanem. Kliknij na markery, aby zobaczyƒá nazwƒô obiektu.
            </p>
            <div id="map" class="h-[500px] w-full rounded-2xl shadow-lg"></div>
        </section>

        <section id="podsumowanie" class="mt-16 scroll-mt-24">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Podsumowanie i Rekomendacje</h2>
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                 <div class="space-y-8">
                    <div>
                        <h3 class="text-xl font-bold mb-3 text-[#2F5233]">Kluczowe Wnioski</h3>
                        <p class="text-gray-600">Analiza ofert pokazuje, ≈ºe kluczowe jest bezpo≈õrednie potwierdzanie ceny i dostƒôpno≈õci, poniewa≈º informacje w og≈Çoszeniach czƒôsto sƒÖ nieaktualne. Wyb√≥r sprowadza siƒô do kompromisu miƒôdzy cenƒÖ, lokalizacjƒÖ (i kosztami dojazd√≥w) a dostƒôpnymi udogodnieniami, kt√≥re mogƒÖ znaczƒÖco podnie≈õƒá komfort pobytu.</p>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-3 text-[#2F5233]">Najbardziej ObiecujƒÖce Oferty</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                           <li><span class="font-semibold">Domek z jacuzzi blisko Term Chocho≈Çowskich:</span> Najlepszy stosunek ceny do udogodnie≈Ñ (jacuzzi, klimatyzacja). Idealny dla grupy ceniƒÖcej relaks, nawet kosztem dojazd√≥w do centrum Zakopanego.</li>
                           <li><span class="font-semibold">Domek 12-osobowy:</span> Oferuje najwiƒôcej przestrzeni i komfortu dla 8-osobowej grupy w dobrej cenie, co mo≈ºe byƒá du≈ºƒÖ zaletƒÖ podczas d≈Çu≈ºszego pobytu.</li>
                           <li><span class="font-semibold">Domek 8-osobowy w Chocho≈Çowie:</span> Solidna opcja z w pe≈Çni potwierdzonƒÖ dostƒôpno≈õciƒÖ i cenƒÖ, dobra jako punkt wyj≈õcia do negocjacji lub pewny wyb√≥r, je≈õli inne opcje zawiodƒÖ.</li>
                           <li><span class="font-semibold">Apartamenty Jaworowe Izby z baliƒÖ:</span> Potwierdzona cena i atrakcyjne udogodnienia, choƒá wymaga rozwiƒÖzania kwestii 26 lipca.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-3 text-[#2F5233]">Praktyczne Porady</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                           <li><strong>Zawsze potwierdzaj cenƒô ca≈ÇkowitƒÖ:</strong> Dopytaj o wszystkie dodatkowe op≈Çaty (klimatyczna, za media, sprzƒÖtanie).</li>
                           <li><strong>Weryfikuj dok≈ÇadnƒÖ lokalizacjƒô:</strong> U≈ºyj mapy, aby oceniƒá realny czas i koszt dojazd√≥w do Krup√≥wek i innych atrakcji.</li>
                           <li><strong>Okre≈õl priorytety grupy:</strong> Zdecydujcie, co jest wa≈ºniejsze ‚Äì blisko≈õƒá centrum, cisza i widoki, czy dostƒôp do basenu/jacuzzi.</li>
                        </ul>
                    </div>
                 </div>
            </div>
        </section>

    </main>

    <!-- The Modal for chat conversation -->
    <div id="chatModal" class="modal fixed inset-0 flex items-center justify-center p-4" style="display: none;">
        <span class="modal-close">&times;</span>
        <div class="modal-content-chat">
            <h3 class="text-xl font-bold text-center mb-4 text-[#2F5233]" id="chatModalTitle"></h3>
            <div id="chatMessages" class="flex flex-col gap-3">
                <!-- Chat messages will be dynamically inserted here -->
            </div>
        </div>
    </div>

<!-- Leaflet JavaScript -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha2d1-oXq/5+Fz/3NqE5B2U5fP5p6Nf+KxLz/uU6Z3/oXw2+Z2u+" crossorigin=""></script>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const accommodationData = [
        { id: 1, 
         title: 'Domek 8-osobowy CHOCHO≈Å√ìW', 
         link: 'https://www.olx.pl/d/oferta/domek-zakopane-8osobowy-wynajem-chochol-CID1816-IDY2Pra.html', 
         totalPrice: 5600, 
         availability: 'Dostƒôpny', 
         status: 'Pe≈Çna dostƒôpno≈õƒá i cena potwierdzona.', 
         capacity: 8, amenities: [], 
         location: 'Chocho≈Ç√≥w', 
         distance: 20.5, 
         notes: 'Dostƒôpny w terminie 25.07-02.08.2025 dla 7 doros≈Çych i 1 dziecka.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Tak jest dostepny' },
            { sender: 'user', message: 'W jakiej cenie?' },
            { sender: 'owner', message: 'Cena w okresie wakacji 800z≈Ç doba w sumie 5600z≈Ç za 7 nocy' }
        ], latitude: 49.355418, longitude: 19.819255 },
        { id: 2, 
         title: 'Apartamenty Zakopane Wakacje Sierpie≈Ñ Weekendy', 
         link: 'https://www.olx.pl/d/oferta/apartamenty-zakopane-wakacje-sierpien-weekendy-CID1816-ID16307m.html', 
         totalPrice: 3920, 
         availability: 'Dostƒôpny', 
         status: 'Cena i dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: ['Piƒôkne widoki', 'Panorama Tatr'], 
         location: 'Murzasichle', 
         distance: 11.4, 
         notes: 'Cena 70 z≈Ç od osoby za dobƒô. W drugim budynku.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025-02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Witam mamy w drugim budynku bardzo piƒôkne widoki ca≈Ça panorama Tatr w Murzasichle strona www.utrebuni.pl' },
            { sender: 'user', message: 'W jakiej cenie?' },
            { sender: 'owner', message: 'Tak wynajem jest mo≈ºliwy 70 z≈Ç od osoby wiƒôcej informacji pod numerem tel 728 739 080 pozdrawiam' }
        ], latitude: 49.303838, longitude: 20.036490 },
        { id: 3, 
         title: 'WAKACJE! BASEN, JACUZZI, sauna i parking - w cenie!', 
         link: 'https://www.olx.pl/d/oferta/wakacje-basen-jacuzzi-sauna-i-parking-w-cenie-CID1816-IDvrPqn.html', 
         totalPrice: 3850, 
         availability: 'Czƒô≈õciowo', 
         status: 'Cena potwierdzona, termin nie pokrywa siƒô w pe≈Çni.', 
         capacity: 8, amenities: ['Basen', 'Si≈Çownia', 'Jacuzzi', 'Plac zabaw', 'Sauna', 'Grota solna', 'Parking'], 
         location: 'Zakopane', 
         distance: 2.0, 
         notes: 'Dostƒôpne tylko 27.07-01.08.2025. Cena 550 z≈Ç za dobƒô.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7) dzieci (1), niemowlƒôta (0).' },
            { sender: 'owner', message: 'Witam mam wolny apartamenty. Dziecko ile lat?' },
            { sender: 'user', message: 'Dziecko 10 lat' },
            { sender: 'owner', message: 'Mogƒô zaproponowaƒá apartament 1. Cena 8os-550 z≈Ç doba Apartament ma 7 miejsc do spania, dodatkowo mo≈ºemy dostawiƒá materac.' },
            { sender: 'owner', message: 'Apartament 1 (niski parter/przyziemie) - w cenie parking, basen, si≈Çownia, jacuzzi, plac zabaw.' },
            { sender: 'owner', message: 'Ewentualnie 2 apartamenty w tym samym budynku (by≈Çyby to apartamenty 2 i 3)ale w terminie 27.07-01.08' },
            { sender: 'owner', message: 'Lub inna opcja Apartamenty 1 i 2- oddalone od siebie 10min spacerem, w terminie te≈º 27.07-01.08' },
            { sender: 'owner', message: 'Apartament 1 (niski parter/przyziemie) - w cenie parking, basen, si≈Çownia, jacuzzi, plac zabaw.  Apartament 2 (z tarasem) - z mo≈ºliwo≈õciƒÖ korzystania z sauny i groty solnej na wy≈ÇƒÖczno≈õƒá. Apartament 3 (z balkonem) - w cenie parking, altanka, plac zabaw.' }
        ], latitude: 49.279274, longitude: 19.908976 }, 
        { id: 4, 
         title: 'Apartamenty Jaworowe Izby z baliƒÖ z hydromasa≈ºem', 
         link: 'https://www.olx.pl/d/oferta/apartamenty-jaworowe-izby-z-balia-z-hydromasazem-CID1816-ID15UskW.html', 
         totalPrice: 3100, 
         availability: 'Czƒô≈õciowo', 
         status: 'Cena potwierdzona, 26.07 zarezerwowany.', 
         capacity: 8, 
         amenities: ['Balia z hydromasa≈ºem', 'Grill', 'Plac zabaw', 'Hamak', 'Hu≈õtawki', 'Trampolina', 'Bramki do pi≈Çki no≈ºnej', 'PlayStation', 'WiFi', 'Parking'], 
         location: 'Zakopane', 
         distance: 2.5, 
         notes: 'Dostƒôpny od 27.07 do 02.08.2025. Ca≈Çkowita cena 3100 z≈Ç.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0)' },
            { sender: 'owner', message: 'Dzie≈Ñ dobry, 26 lipca jest zarezerwowany, ale od 27 lipca do 2 sierpnia jak najbardziej zapraszamy :)' },
            { sender: 'user', message: 'w jakiej cenie?' },
            { sender: 'owner', message: 'A w jakim wieku jest dziecko?' },
            { sender: 'user', message: '10 lat' },
            { sender: 'owner', message: 'To bƒôdzie 3100 z≈Ç, w cenie macie dwie sypialnie, dwie ≈Çazienki oraz oddzielna czƒô≈õƒá jadalniana z aneksem kuchennym, w cenie r√≥wnie≈º ca≈Çy tydzie≈Ñ balia z hydromasa≈ºem, grill, plac zabaw (hamak, hu≈õtawki, trampolina, bramki do pi≈Çki no≈ºnej), PlayStation, WiFi, parking :)' },
            { sender: 'user', message: 'W razie pyta≈Ñ proszƒô o kontakt 506014406 :)' }
         ], latitude: 49.2950, longitude: 19.9500 }, 
        { id: 5, 
         title: 'BO≈ªE CIA≈ÅO!! Wakacje!! Ostatnie wolne pokoje!!', 
         link: 'https://www.olx.pl/d/oferta/boze-cialo-wakacje-ostatnie-wolne-pokoje-CID1816-IDKmdfh.html', 
         totalPrice: null, 
         availability: 'Wymaga Potwierdzenia', 
         status: 'Wymaga dalszego kontaktu w celu potwierdzenia dostƒôpno≈õci i ceny.', 
         capacity: 8, 
         amenities: [], 
         location: 'Zakopane', 
         distance: 1.0, 
         notes: 'Brak potwierdzenia ceny i dostƒôpno≈õci w konwersacji.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Witam, proszƒô o informacjƒô ile lat ma dziecko i ile pokoi Pa≈Ñstwo potrzebujƒÖ (ilu osobowe)' },
            { sender: 'owner', message: 'A najlepiej jakby Pan zadzwoni≈Ç (660177174)' }
        ], latitude: 49.2991, longitude: 19.9575 }, 
        { id: 6, 
         title: 'Domek g√≥ralski Wooden Tatra House', 
         link: 'https://www.olx.pl/d/oferta/domek-goralski-wooden-tatra-house-CID1816-ID16iUMx.html', 
         totalPrice: 6230, 
         availability: 'Dostƒôpny', 
         status: 'Cena ca≈Çkowita i dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: [], 
         location: 'Zakopane', 
         distance: 3.0, 
         notes: 'Dostƒôpny 26.07-02.08.2025. Ca≈Çkowita cena 6230 z≈Ç.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0)' },
            { sender: 'owner', message: 'Dzie≈Ñ dobry tak jest dostƒôpny domek w tym terminie , kwota to 6230 z≈Ç pozdrawiam serdecznie' }
        ], latitude: 49.282518, longitude: 19.912964 }, 
        { id: 7, 
         title: 'Zakopane domek 12 osobowy wakacje ≈õwiƒôta ferie', 
         link: 'https://www.olx.pl/d/oferta/zakopane-domek-12-osobowy-wakacje-swieta-ferie-CID1816-IDL9SkM.html?reason=seller_profile', 
         totalPrice: 5600, 
         availability: 'Dostƒôpny', 
         status: 'Cena i dostƒôpno≈õƒá potwierdzona.', 
         capacity: 12, 
         amenities: [], 
         location: 'Zakopane', 
         distance: 1.8, 
         notes: 'Dostƒôpny 26.07-02.08.2025. Cena 800 z≈Ç za dobƒô. Oferuje wiƒôcej miejsca ni≈º wymagane.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?' },
            { sender: 'owner', message: 'Dla ilu os√≥b potrzeba' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Termin wolny 800 z≈Ç za dobƒô' }
        ], latitude: 49.2970, longitude: 19.9650 }, 
        { id: 8, 
         title: 'Domek k/ Zakopane, widoki na g√≥ry, jacuzzi prywatne', 
         link: 'https://www.olx.pl/d/oferta/domek-k-zakopane-widoki-na-gory-jacuzzi-prywatne-CID1816-IDFikla.html', 
         totalPrice: 5950, 
         availability: 'Czƒô≈õciowo', 
         status: 'Termin nie pokrywa siƒô w pe≈Çni. Cena jacuzzi dodatkowo p≈Çatna.', 
         capacity: 8, 
         amenities: ['Widoki na g√≥ry', 'Prywatne jacuzzi (dodatkowo p≈Çatne)'], 
         location: 'Ko≈Ço Zakopanego', 
         distance: 5.0, 
         notes: 'Dostƒôpny tylko 30.07-03.08.2025. Cena za dobƒô 850 z≈Ç + op≈Çata za jacuzzi.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Witam serdecznie domek mamy wolny w terminie 30.07-03.08 Cena za dobƒô 850 z≈Ç, je≈ºeli chcieliby Pa≈Ñstwo dodatkowo skorzystaƒá z jacuzzi wtedy jest dodatkowa op≈Çata 250 z≈Ç za dwa kolejne dni ka≈ºdy nastƒôpny po sobie dzie≈Ñ 50 z≈Ç - jacuzzi jest prywatne i nagrzewane tylko na ≈ºyczenie Go≈õci' }
        ], latitude: 49.2800, longitude: 19.9200 }, 
        { id: 9, 
         title: 'Domek z jacuzzi, balia na wy≈ÇƒÖczno≈õƒá Termy Chocho≈Ç√≥w domek Zakopane', 
         link: 'https://www.olx.pl/d/oferta/domek-z-jacuzzi-balia-na-wylacznosc-termy-chocholow-domek-zakopane-CID1816-ID15S2Bp.html', 
         totalPrice: 4200, 
         availability: 'Dostƒôpny', 
         status: 'Pe≈Çna dostƒôpno≈õƒá i cena potwierdzona.', 
         capacity: 8, 
         amenities: ['Jacuzzi', 'Balia na wy≈ÇƒÖczno≈õƒá', 'Klimatyzacja'], 
         location: 'blisko Term Chocho≈Ç√≥w', 
         distance: 20.5, 
         notes: 'Dostƒôpny 26.07-02.08.2025. Cena 600 z≈Ç za dobƒô. 400m od Term Chocho≈Çowskich.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0).' },
            { sender: 'owner', message: 'Dzie≈Ñ dobry dziƒôkujƒô za zainteresowanie naszƒÖ ofertƒÖ mamy wolny domek z 3 sypialniami 600 z≈Ç doba domek z klimatyzacja 400 m od term' }
        ], latitude: 49.3360, longitude: 19.8660 }, 
        { id: 10, 
         title: 'Domki Zakopane domek w g√≥rach g√≥ry apartamenty noclegi kwatery pokoje', 
         link: 'https://www.olx.pl/d/oferta/domki-zakopane-domek-w-gorach-gory-apartamenty-noclegi-kwatery-pokoje-CID1816-IDJ3aCB.html', 
         totalPrice: 3150, 
         availability: 'Dostƒôpny', 
         status: 'Pe≈Çna dostƒôpno≈õƒá i cena potwierdzona.', 
         capacity: 8, 
         amenities: ['Grill', 'Plac zabaw', 'Wi-Fi', 'TV', 'Kuchnia', '≈Åazienka', 'Parking', 'Akceptacja zwierzƒÖt'], 
         location: 'Gliczar√≥w G√≥rny, ul. Fiskowa Dolina 20', 
         distance: 11.4, 
         notes: 'Brak jednoznacznego potwierdzenia ceny i dostƒôpno≈õci w czacie.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0).' },
            { sender: 'owner', message: 'Witamy. Na razie jest  wolny DOMEK G√ìRALSKI z Bali np. od ju≈º 24 lipca ale do 1 sierpnia.  Ca≈Çy domek na wy≈ÇƒÖczno≈õƒá dla Pa≈Ñstwa. Cena 450 z≈Ç za noc, za wszystkie osoby (a nie za osobƒô), za ca≈Çy jeden Domek do 8 os√≥b, (spa≈Ço te≈º wiƒôcej os√≥b). W pobli≈ºu sƒÖ TERMY - (baseny, gorƒÖce ≈∫r√≥d≈Ça, SPA), sklepy, karczmy, itd.  Obok jest WyciƒÖg - Stok Narciarki, restauracja i g√≥rki do zje≈ºd≈ºania  dla dzieci. Domek w pe≈Çni wyposa≈ºony: Wi-Fi, TV, na zewnƒÖtrz grill, plac zabaw dla dzieci, kuchnia, ≈Çazienka. Parking na dwa samochody do domku - gratis. Akceptujemy pieski. Rezerwacja 40% wp≈Çaty.  Adres: Gliczar√≥w G√≥rny ul. Fi≈õkowa Dolina 20, ko≈Ço Zakopanego przy Bukowinie Tatrza≈Ñskiej.  W razie pyta≈Ñ i rezerwacji proszƒô o kontakt tel. 790,_303,_500.Po wiƒôcej zdjƒôƒá i informacji zapraszamy na stronƒô: www.Wgorachdomki.pl  Pozdrawiamy "Domki w G√≥rach pod WyciƒÖgiem"' }
        ], latitude: 49.3490, longitude: 20.0800 }, 
        { id: 11, 
         title: 'Pokoje noclegi Zakopane, apartamenty', 
         link: 'https://www.olx.pl/d/oferta/pokoje-noclegi-zakopane-apartamenty-CID1816-ID15BqqL.html', 
         totalPrice: 3¬†843, 
         availability: 'Brak Danych', 
         status: 'Pe≈Çna dostƒôpno≈õƒá i cena potwierdzona.', 
         capacity: 8, 
         amenities: [], 
         location: 'Zakopane', 
         distance: 1.5, 
         notes: '', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0).' },
            { sender: 'owner', message: 'Tak jest mo≈ºliwy ilu osobowe pokoje potrzeba' },
            { sender: 'user', message: 'Najlepiej dwa dwuosobowe i jeden czteroosobowy ale je≈õli dostƒôpne sƒÖ inne to jeste≈õmy elastyczni pod tym wzglƒôdem :)' },
            { sender: 'owner', message: 'Wolny Apartament 4 os 2 pomieszczenia z wyposa≈ºona kuchniƒÖ widokowy taras na g√≥ry piƒôkny widok tv internet cena 275zl doba za 4os.Pokoje 2os ka≈ºdy z ≈ÇazienkƒÖ widokowy balkon na g√≥ry do dyspozycji na korytarzu aneks oraz kuchnia TV Internet grill parking plac zabaw cena 137zl doba za pok√≥j 2os.' }
        ], latitude: 49.2991, longitude: 19.9575 }, 
        { id: 12, 
         title: 'Willa Monia - Zakopane Parda≈Ç√≥wka 15-20 min. spacerkiem do Krup√≥wek', 
         link: 'https://www.olx.pl/d/oferta/willa-monia-zakopane-pardalowka-15-20-min-spacerkiem-do-krupowek-CID1816-ID15zggt.html', 
         totalPrice: 7070, 
         availability: 'Dostƒôpny', 
         status: 'Cena i dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: [], 
         location: 'Zakopane Parda≈Ç√≥wka', 
         distance: 1.5, 
         notes: 'Cena 130 z≈Ç/osoba doros≈Ça, 100 z≈Ç/dziecko za dobƒô. Ok. 15-20 min. spacerkiem do Krup√≥wek.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025-02 sie, 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1) niemowlƒôta (0)' },
            { sender: 'owner', message: 'W podanym terminie mamy dostƒôpne 3 pokoje 2 osobowe z ≈Ç√≥≈ºkami ma≈Ç≈ºe≈Ñskimi + jedno z pojedynczym ≈Ç√≥≈ºkiem. Koszt 130 z≈Ç od osoby doros≈Çej za dobƒô, dziecko do 12 roku ≈ºycia 100 z≈Ç za dobƒô. W cenie wliczone jest ≈õniadanie w formie szwedzkiego sto≈Çu. Zapraszamy!' }
        ], latitude: 49.3039, longitude: 19.9880 },
        { id: 13, 
         title: 'Zakopane, pokoje z ≈ÇazienkƒÖ, blisko centrum, Krup√≥wki, do skoczni 300m', 
         link: 'https://www.olx.pl/d/oferta/zakopane-pokoje-z-lazienka-blisko-centrum-krupowki-do-skoczni-300m-CID1816-IDYCqId.html', 
         totalPrice: 4480, 
         availability: 'Dostƒôpny', 
         status: 'Cena i dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: ['≈Åazienka', 'Halling'], 
         location: 'Zakopane, blisko centrum', 
         distance: 0.3, 
         notes: 'Cena 80 z≈Ç/osoba za dobƒô. Do skoczni 300m, blisko Krup√≥wek.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025-02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Witam. Mamy wolne pokoje w tym terminie w cenie 80 z≈Ç/osoba za dobƒô. Dla go≈õci zmotoryzowanych mamy halling przy budynku, w tej cenie. W ofercie wcze≈õniej innych zapyta≈Ç, chcia≈Çbym prosiƒá o u≈ºycie bezpo≈õredniego kontaktu (je≈õli RODO nie trafi). Pozdrawiam Leszek Medowski' }
        ], latitude: 49.2980, longitude: 19.9580 }, 
        { id: 14, 
         title: 'WAKACJE-Apartament 2-10os, Blisko Centrum, Dworca PKP,PKS, Widok TATRY', 
         link: 'https://www.olx.pl/d/oferta/wakacje-apartament-2-10os-blisko-centru-m-dworca-pkp-pks-widok-tatry-CID1816-IDQrv4l.html', 
         totalPrice: null, 
         availability: 'Wymaga Potwierdzenia', 
         status: 'Brak potwierdzenia ceny w konwersacji. Proszono o kontakt telefoniczny.', 
         capacity: '2-10 os√≥b', 
         amenities: ['Widok TATRY'], 
         location: 'Blisko Centrum, Dworca PKP, PKS', 
         distance: 0.8, 
         notes: '', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025-02 sie, 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1) niemowlƒôta (0)' },
            { sender: 'owner', message: 'Jest wolny proszƒô dzwoniƒá na 500704655' }
        ], latitude: 49.2970, longitude: 19.9670 }, 
        { id: 15, 
         title: 'U Sobali - apartament z widokiem oraz pokoje go≈õcinne, Ul. Mrowce 14', 
         link: 'https://www.olx.pl/d/oferta/u-sobali-apartament-z-widokiem-oraz-po-koje-goscinne-ul-mrowce-14-CID1816-IDzQfs5.html', 
         totalPrice: 3360, 
         availability: 'Dostƒôpny', 
         status: 'Cena potwierdzona (dla kombinacji pokoi), dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: ['Widok'], 
         location: 'Ul. Mrowce 14', 
         distance: 3.5, 
         notes: 'Oferowane sƒÖ pokoje 2os (125z≈Ç/dobƒô) i 4os (230z≈Ç/dobƒô). Cena obliczona dla 2 pokoi 2-osobowych i 1 4-osobowego.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0).' },
            { sender: 'owner', message: 'A jakie Pokoje (ilu osobowe) Pa≈Ñstwo potrzebujƒÖ?' },
            { sender: 'user', message: 'Najlepiej 2 dwuosobowe i 1 czteroosobowy ale jeste≈õmy elastyczni pod tym wzglƒôdem :)' },
            { sender: 'owner', message: 'Dysponujemy  w tym terminie  pokojem  4 os z ≈ÇazienkƒÖ  w  cenie  230 z≈Ç za dobƒô od  ca≈Çej rodziny  oraz 2 x 2 os z ≈Çazienkami  w cenie  125 z≈Ç za dobƒô  za jeden pok√≥j Pozdrawiam' }
        ], latitude: 49.2700, longitude: 19.9500 }, 
        { id: 16, 
         title: 'Wynajem Pokoi Go≈õcinnych "Nowa Gra≈Ñ"', 
         link: 'https://www.olx.pl/d/oferta/wynajem-pokoi-goscinnych-nowa-gran-CID1816-IDWLyHh.html', 
         totalPrice: 4200, 
         availability: 'Czƒô≈õciowo', 
         status: 'Cena i czƒô≈õciowa dostƒôpno≈õƒá potwierdzona.', 
         capacity: 8, 
         amenities: ['≈Åazienki', 'Balkony z widokiem'], 
         location: 'Zakopane', 
         distance: 2.2, 
         notes: 'Dostƒôpne, du≈ºo informacji w konwersacji.', 
         chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?,' },
            { sender: 'user', message: 'Dla 7 osob doros≈Çych i jednego dziecka(10 lat)' },
            { sender: 'owner', message: 'Witam. A czy mog≈Çoby byƒá od 27 lipca? Czy termin jest potrzebny konkretnie od 26?' },
            { sender: 'user', message: 'Woleliby≈õmy od 26' },
            { sender: 'owner', message: 'Rozumiem, mam dostƒôpne pokoje ale od 27 lipca' },
            { sender: 'user', message: 'W jakiej cenie by≈Çy by te pokoje w takim razie od 27.07 do 03.08?' },
            { sender: 'owner', message: 'Od 26 lipca mam 2x pok√≥j 2 osobowy oraz czteroosobowy. Cena w tym przypadku 75z≈Ç za osobƒô za dobƒô.üòä Nie sƒÖ to pokoje z pokojami g≈Çoszenia (pokoje sƒÖ bez balkon√≥w)' },
            { sender: 'owner', message: 'A od 27 lipca mam pokoje z og≈Çoszenia r√≥wnie≈º 2x dwuosobowego i czteroosobowy. Cena za 4 osobowy 300z≈Ç za dobƒô za pok√≥j, a cena pokoju 2 osobowego 180z≈Ç za pok√≥j za dobƒô. Pokoje z prywatnymi ≈Çazienkami, balkonami z widokiem na g√≥ryüòä' },
            { sender: 'owner', message: 'Oraz w obu opcjach kuchnia og√≥lnodostƒôpna z ekspresem do kawy, piekarnikiem itd.' },
            { sender: 'owner', message: 'Za ca≈Çy pobyt: 1 opcja po zsumowaniu 4200z≈Ç, 2 opcja 4620z≈Ç. Zapraszam serdecznie Adres: ul.Parda≈Ç√≥wka 60, Zakopane' }
        ], latitude: 49.3010, longitude: 19.9600 }, 
        { id: 17, 
         title: 'Drewniany domek z piƒôknym widokiem na Guba≈Ç√≥wce', 
         link: 'https://www.olx.pl/d/oferta/drewniany-domek-z-pieknym-widokiem-na-gubalowce-CID1816-ID10Rmvt.html', 
         totalPrice: 6000, 
         availability: 'Czƒô≈õciowo', 
         status: 'Cena potwierdzona, termin czƒô≈õciowo pokrywa siƒô (dostƒôpno≈õƒá 26.07-03.08).', 
         capacity: null, 
         amenities: ['Piƒôkny widok'], 
         location: 'Guba≈Ç√≥wka', 
         distance: 4.0, 
         notes: 'Cena 6000z≈Ç w innym domku. Dostƒôpny 26.07-03.08.2025 (8 nocy).', 
         chatContent: [
            { sender: 'user', message: 'Witam ten domek jest wolny od 26.7 do 3.8?' },
            { sender: 'owner', message: 'Ewentualnie w tym terminie mam wolny domek z piƒôknym widokiem Komikien. Suma 1200 z≈Ç/dobƒô. Zapraszam' }
        ], latitude: 49.3100, longitude: 19.9300 },
        { id: 18, title: 'Nowe domki g√≥rlaskie Guba≈Ç√≥wka Zakopane (8 os√≥b) z widokiem- wynajem', link: 'https://www.olx.pl/d/oferta/nowe-domki-gorlaskie-gubalowka-zakopa-ne-8-osob-z-widokiem-wynajem-CID1816-IDZWnxE.html', totalPrice: 4900, availability: 'Dostƒôpny', status: 'Cena i dostƒôpno≈õƒá potwierdzona.', capacity: 8, amenities: ['Widok'], location: 'Guba≈Ç√≥wka', distance: 4.5, notes: 'Cena 700 z≈Ç/noc za domek na wy≈ÇƒÖczno≈õƒá.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)? Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Dzie≈Ñ dobry. Ten domek jest wolny w tym terminie. Cena za domek na wy≈ÇƒÖczno≈õƒá, wynosi w tym terminie 700 z≈Ç/noc.' }
        ], latitude: 49.3150, longitude: 19.9250 },
        { id: 19, title: '"Domek u Paulinki" Zakopane Noclegi', link: 'https://www.olx.pl/d/oferta/domek-u-paulinki-zakopane-noclegi-CID1816-IDv9Bfk.html', totalPrice: null, availability: 'Wymaga Potwierdzenia', status: 'Wymaga potwierdzenia ceny i dostƒôpno≈õci. Proszono o kontakt telefoniczny.', capacity: null, amenities: [], location: 'Zakopane', distance: 2.8, notes: '', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7) dzieci (1) niemowlƒôta (0)' },
            { sender: 'owner', message: 'Proszƒô o kontakt telefoniczny pod numerem: 794108159' }
        ], latitude: 49.2900, longitude: 19.9600 }, 
        { id: 20, title: 'Domek u "Sock√≥w" zapraszamy na ≈õwiƒôta, maj√≥wkƒô i wakacje', link: 'https://www.olx.pl/d/oferta/domek-u-sockow-zapraszamy-na-swieta-majowke-i-wakacje-CID1816-ID13nYkw.html', totalPrice: 4900, availability: 'Dostƒôpny', status: 'Cena i dostƒôpno≈õƒá potwierdzona.', capacity: 8, amenities: [], location: 'Zakopane', distance: 3.2, notes: 'Cena 700 z≈Ç/dobƒô.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1), niemowlƒôta (0)' },
            { sender: 'owner', message: 'Witam serdecznie tak mamy wolny termin cena za dobƒô to 700z≈Ç zapraszamy' }
        ], latitude: 49.2850, longitude: 19.9550 }, 
        { id: 21, title: 'Prestige Apartamenty Bystra Woda Centrum Zakopane 1-8 os√≥b', link: 'https://www.olx.pl/d/oferta/prestige-apartamenty-bystra-woda-centrum-zakopane-1-8-osob-CID1816-IDqVpRj.html', totalPrice: 5558, availability: 'Dostƒôpny', status: 'Cena i dostƒôpno≈õƒá potwierdzona.', capacity: 8, amenities: [], location: 'Centrum Zakopane', distance: 0.5, notes: 'Cena 794 z≈Ç/doba.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)?' },
            { sender: 'owner', message: '794 z≈Ç/dobƒô. Pozdrawiamy' }
        ], latitude: 49.2995, longitude: 19.9585 }, 
        { id: 22, title: 'Apartamenty Zakopane Wakacje Sierpie≈Ñ Weekendy (duplikat)', link: 'https://www.olx.pl/d/oferta/apartamenty-zakopane-wakacje-sierpien-weekendy-CID1816-ID16307m.html', totalPrice: 3920, availability: 'Dostƒôpny', status: 'Cena i dostƒôpno≈õƒá potwierdzona. Duplikat oferty nr 2.', capacity: 8, amenities: ['Piƒôkne widoki', 'Panorama Tatr'], location: 'Murzasichle', distance: 11.4, notes: 'Cena 70 z≈Ç od osoby za dobƒô.', chatContent: [
            { sender: 'system', message: 'Duplikat konwersacji oferty nr 2.' }
        ], latitude: 49.3090, longitude: 20.0160 },
        { id: 23, title: 'Zakopane - pokoje w g√≥rach - widoki na Tatry - Parking', link: 'https://www.olx.pl/d/oferta/zakopane-pokoje-w-gorach-widoki-na-tatry-parking-CID1816-IDxTx4h.html', totalPrice: null, availability: 'Brak Danych', status: 'Brak konwersacji/danych do potwierdzenia.', capacity: null, amenities: ['Widoki na Tatry', 'Parking'], location: 'Zakopane (w g√≥rach)', distance: 6.0, notes: '', chatContent: [
            { sender: 'system', message: 'Brak konwersacji w pliku PDF dla tej oferty.' }
        ], latitude: 49.2700, longitude: 19.9700 }, 
        { id: 24, title: 'Zapraszamy do Villa Baja wolne pokoje 3km centrum', link: 'https://www.olx.pl/d/oferta/zapraszamy-do-villa-baja-wolne-pokoje-3km-centrum-CID1816-IDNv0DD.html', totalPrice: 4760, availability: 'Dostƒôpny', status: 'Cena i dostƒôpno≈õƒá potwierdzona.', capacity: 8, amenities: [], location: '3km od centrum', distance: 3, notes: 'Cena 85 z≈Ç/osoba/dobƒô.', chatContent: [
            { sender: 'user', message: 'Na 7 nocy chodzi?' },
            { sender: 'user', message: 'Posiadamy wolne pokoje Swietny 3 osobowe oraz jeden 1 osobowy' },
            { sender: 'user', message: 'W jakiej cenie?' },
            { sender: 'user', message: 'Z (ilustracjƒÖ) obiadem?' },
            { sender: 'owner', message: '85 z≈Ç/osobƒô. Za nocleg.' }
        ], latitude: 49.3050, longitude: 19.9400 }, 
        { id: 25, title: 'Apartamenty Zakopane Najbli≈ºsze Szlaki 350m ! WOLNE ! OBIADY 25Z≈Å', link: 'https://www.olx.pl/d/oferta/apartamenty-zakopane-najblizsze-szlaki-350m-wolne-obiady-25zlCID1816-IDjpzbi.html', totalPrice: null, availability: 'Czƒô≈õciowo', status: 'Dostƒôpno≈õƒá tylko 27-31 lipca. Oferta dla maks. 4 os√≥b. Nieodpowiednie dla 8 os√≥b.', capacity: 4, amenities: ['Obiady 25z≈Ç'], location: 'Najbli≈ºsze Szlaki 350m', distance: 0.35, notes: 'Nieodpowiednie dla 8 os√≥b.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)? Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)?' },
            { sender: 'owner', message: 'Witam tak. 27/31 doba 180 z≈Ç. Pozdrawiam Damian Apartamenty Dwa Nied≈∫wiedzie. Jest to cena za apartament.' },
            { sender: 'owner', message: 'Przepraszam zapomnia≈Çem dopisaƒá za 180 z≈Ç po 27/31 doba. Lub ni≈ºej 113 po 300z≈Ç doba. Apartamenty sƒÖ dla maksymalnie 4 os√≥b.' }
        ], latitude: 49.2985, longitude: 19.9600 }, 
        { id: 26, title: 'Apartament w g√≥rach z widokiem na g√≥ry blisko term i szlak√≥w dla rodzin', link: 'https://www.olx.pl/d/oferta/apartament-w-gorach-z-widokiem-na-gory-bisko-term-i-szlakow-dla-rodzin-CID1816-ID16aFoq.html', totalPrice: null, availability: 'Wymaga Potwierdzenia', status: 'Brak jednoznacznej ceny i dostƒôpno≈õci dla grupy 8-osobowej. Informacje w konwersacji sƒÖ niejasne i sprzeczne.', capacity: 8, amenities: ['Widok na g√≥ry', 'Blisko term i szlak√≥w', 'Basen', 'Jacuzzi'], location: 'W g√≥rach', distance: 5.5, notes: 'Informacje o cenie i dostƒôpno≈õci w konwersacji sƒÖ niejasne i sprzeczne.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Pok√≥j 4 osobowy standard trzylatek. balkon. Widok z ≈Çazienki na Tatry. Zachodzony w cenie 90 z≈Ç/osoba/noc. dziecko, poni≈ºej lat 10- ceny w cenie 63 z≈Ç/noc.' },
            { sender: 'owner', message: 'Go≈õcinny dom ma 8 pokoi z aneksem kuchennym, ≈ÇazienkƒÖ. Julianym ≈Ç√≥≈ºkiem. W≈Çasne balkonami. Bezpo≈õredni widok na Tatry. Wi-Fi. parking. Tatry w cenie 12.' },
            { sender: 'owner', message: 'Dresy. noc. dostƒôpno≈õƒá: 10-20 (w cenie 8 z≈Ç/noc).' }
        ], latitude: 49.2750, longitude: 19.9400 }, 
        { id: 27, title: 'Zakopane!!! Pokoje, noclegi w Centrum!!! Bo≈ºe Cia≈Ço, WAKACJE 2025', link: 'https://www.olx.pl/d/oferta/zakopane-pokoje-noclegi-w-centrum-boze-cialo-wakacje-2025-CID1816-ID1foBh.html', totalPrice: null, availability: 'Wymaga Potwierdzenia', status: 'Brak potwierdzenia ceny i dostƒôpno≈õci. Proszono o kontakt telefoniczny.', capacity: null, amenities: [], location: 'Centrum Zakopanego', distance: 0.7, notes: '', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 02 sie 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Zapraszam do kontaktu telefonicznego (603444718) Mam inne zajƒôcie. Ju≈º odpowiadam na wiadomo≈õƒá!' }
        ], latitude: 49.2990, longitude: 19.9570 }, 
        { id: 28, title: 'Dom na wy≈ÇƒÖczno≈õƒá jacuzzi ,≈õwiƒôta', link: 'https://www.olx.pl/d/oferta/dom-na-wylacznosc-jacuzzi-swieta-CID1816-ID12cf5V.html', totalPrice: null, availability: 'Czƒô≈õciowo', status: 'Dostƒôpno≈õƒá od 27 lipca. Cena niepotwierdzona.', capacity: null, amenities: ['Jacuzzi'], location: 'Zakopane', distance: 2.9, notes: 'Brak ceny dla terminu. Mo≈ºliwe wynajƒôcie pokoi od 26 lipca.', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip 2025 - 2 sie 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1) niemowlƒôta (0).' },
            { sender: 'owner', message: 'Domek wolny od 27 lipca ewentualnie pokoje od 26 lipca sƒÖ dostƒôpne.' },
            { sender: 'user', message: 'Jaka by by≈Ça cena za pokoje 102 dwa dwuosobowe i jeden czteroosobowy. Jaka by≈Çaby cena za dom na wy≈ÇƒÖczno≈õƒá? (27-02.08)' }
        ], latitude: 49.2900, longitude: 19.9500 }, 
        { id: 29, title: 'Domki pod lasem WYNAJEM Domek', link: 'https://www.olx.pl/d/oferta/domki-pod-lasem-wynajem-domek-CID1816-IDwnlvP.html', totalPrice: null, availability: 'Wymaga Potwierdzenia', status: 'Brak potwierdzenia ceny w konwersacji. Brak szczeg√≥≈Ç√≥w.', capacity: null, amenities: [], location: 'Pod lasem', distance: 4.8, notes: '', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)? Go≈õcie: doro≈õli (7), dzieci (1) niemowlƒôta (0)' },
            { sender: 'owner', message: 'Witam mam wolne zapraszam' },
            { sender: 'user', message: 'W jakiej cenie?' }
        ], latitude: 49.2800, longitude: 19.9800 }, 
        { id: 30, title: 'Domek w centrum Zakopanego, ul Tetmajera, Tatry', link: 'https://www.olx.pl/d/oferta/domek-w-centrum-zakopanego-ul-tetmajera-tatry-CID1816-IDGdv-s9.html', totalPrice: null, availability: 'Wymaga Potwierdzenia', status: 'Brak potwierdzenia ceny w konwersacji. Wymaga dalszego kontaktu.', capacity: null, amenities: [], location: 'Centrum Zakopanego, ul. Tetmajera', distance: 1.2, notes: '', chatContent: [
            { sender: 'user', message: 'Czy wynajem jest mo≈ºliwy w dniach 26 lip, 2025 - 02 sie, 2025 (7 nocy)?' },
            { sender: 'user', message: 'Dla 7 doros≈Çych i jednego dziecka' },
            { sender: 'owner', message: 'Mamy jeszcze wolny termin' },
            { sender: 'user', message: 'W jakiej cenie?' }
        ], latitude: 49.3000, longitude: 19.9650 } 
    ];

    const offersGrid = document.getElementById('offers-grid');
    const availabilityFilter = document.getElementById('availability-filter');
    const sortBy = document.getElementById('sort-by');

    let activeFilters = [];

    // Modal elements for chat
    const chatModal = document.getElementById('chatModal');
    const chatModalTitle = document.getElementById('chatModalTitle');
    const chatMessagesContainer = document.getElementById('chatMessages');
    const modalClose = document.getElementsByClassName('modal-close')[0];

    const getStatusColor = (availability) => {
        switch (availability) {
            case 'Dostƒôpny': return 'text-green-600 bg-green-100';
            case 'Czƒô≈õciowo': return 'text-yellow-600 bg-yellow-100';
            case 'Wymaga Potwierdzenia': return 'text-blue-600 bg-blue-100';
            case 'Brak Danych': return 'text-red-600 bg-red-100';
            default: return 'text-gray-600 bg-gray-100';
        }
    };

    const renderOffers = () => {
        let filteredData = [...accommodationData];

        if (activeFilters.length > 0) {
            filteredData = filteredData.filter(offer => activeFilters.includes(offer.availability));
        }

        const sortValue = sortBy.value;
        filteredData.sort((a, b) => {
            switch (sortValue) {
                case 'price_asc':
                    return (a.totalPrice || Infinity) - (b.totalPrice || Infinity);
                case 'price_desc':
                    return (b.totalPrice || -Infinity) - (a.totalPrice || -Infinity);
                case 'dist_asc':
                    return (a.distance || Infinity) - (b.distance || Infinity);
                case 'dist_desc':
                    return (b.distance || -Infinity) - (a.distance || -Infinity);
                default:
                    return 0;
            }
        });
        
        offersGrid.innerHTML = '';
        if (filteredData.length === 0) {
             offersGrid.innerHTML = `<p class="text-center col-span-full text-gray-500">Brak ofert spe≈ÇniajƒÖcych wybrane kryteria.</p>`;
             return;
        }
        
        filteredData.forEach(offer => {
            const card = document.createElement('div');
            card.className = 'card bg-white rounded-2xl shadow-md overflow-hidden flex flex-col';
            card.innerHTML = `
                <div class="p-6 flex-grow">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-xs font-semibold py-1 px-3 rounded-full ${getStatusColor(offer.availability)}">${offer.availability}</span>
                        <p class="text-2xl font-bold text-[#2F5233]">${offer.totalPrice ? `${offer.totalPrice} z≈Ç` : 'Cena ?'}</p>
                    </div>
                    <h4 class="text-lg font-bold mb-2 h-14">${offer.title}</h4>
                    <div class="text-sm text-gray-500 mb-4 space-y-1">
                        <p>üìç Lokalizacja: <span class="font-medium text-gray-700">${offer.location || 'Nieznana'}</span></p>
                        <p>üöó Do Krup√≥wek: <span class="font-medium text-gray-700">${offer.distance !== null ? `~${offer.distance} km` : 'Nieznana'}</span></p>
                        <p>üë• Pojemno≈õƒá: <span class="font-medium text-gray-700">${offer.capacity ? `${offer.capacity} os√≥b` : 'Nieznana'}</span></p>
                    </div>
                     <div class="text-sm text-gray-600 mb-4">
                        <p><span class="font-semibold">Status:</span> ${offer.status}</p>
                        ${offer.notes ? `<p class="mt-1"><span class="font-semibold">Notatki:</span> ${offer.notes}</p>` : ''}
                    </div>
                </div>
                <div class="p-6 bg-gray-50 border-t border-gray-200">
                    <button class="w-full text-center block bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors open-chat-modal-btn" data-offer-id="${offer.id}">
                        Poka≈º Konwersacjƒô
                    </button>
                </div>
                <div class="p-6 bg-gray-50 border-t border-gray-200">
                    <a href="${offer.link}" target="_blank" rel="noopener noreferrer" class="w-full text-center block bg-[#4A7856] text-white font-bold py-2 px-4 rounded-lg hover:bg-[#2F5233] transition-colors">
                        Zobacz Ofertƒô na OLX
                    </a>
                </div>
            `;
            offersGrid.appendChild(card);
        });

        // Add event listeners for chat modal buttons
        document.querySelectorAll('.open-chat-modal-btn').forEach(button => {
            button.addEventListener('click', function() {
                const offerId = parseInt(this.dataset.offerId);
                const offer = accommodationData.find(o => o.id === offerId);
                if (offer && offer.chatContent) {
                    chatModalTitle.textContent = `Konwersacja dla: ${offer.title}`;
                    chatMessagesContainer.innerHTML = ''; // Clear previous messages
                    offer.chatContent.forEach(chatMsg => {
                        const msgDiv = document.createElement('div');
                        msgDiv.className = `chat-message ${chatMsg.sender === 'user' ? 'chat-user' : 'chat-owner'}`;
                        msgDiv.textContent = chatMsg.message;
                        chatMessagesContainer.appendChild(msgDiv);
                    });
                    chatModal.style.display = 'flex'; // Show modal
                }
            });
        });
    };

    // Close the modal when clicking on the close button or outside the content
    modalClose.addEventListener('click', () => {
        chatModal.style.display = 'none';
    });
    chatModal.addEventListener('click', (e) => {
        if (e.target === chatModal) {
            chatModal.style.display = 'none';
        }
    });

    availabilityFilter.addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            const filter = e.target.dataset.filter;
            e.target.classList.toggle('active');
            if (activeFilters.includes(filter)) {
                activeFilters = activeFilters.filter(f => f !== filter);
            } else {
                activeFilters.push(filter);
            }
            renderOffers();
        }
    });

    sortBy.addEventListener('change', renderOffers);

    const renderCharts = () => {
        // Clear previous charts if they exist
        const priceChartCanvas = document.getElementById('priceChart');
        const distanceChartCanvas = document.getElementById('distanceChart');
        if (priceChartCanvas.chart) {
            priceChartCanvas.chart.destroy();
        }
        if (distanceChartCanvas.chart) {
            distanceChartCanvas.chart.destroy();
        }

        const confirmedPriceData = accommodationData.filter(d => d.totalPrice && d.availability === 'Dostƒôpny');
        const knownDistanceData = accommodationData.filter(d => d.distance !== null && !isNaN(d.distance));
        
        priceChartCanvas.chart = new Chart(priceChartCanvas, {
            type: 'bar',
            data: {
                labels: confirmedPriceData.map(d => d.title.substring(0,25) + (d.title.length > 25 ? '...' : '')),
                datasets: [{
                    label: 'Cena ca≈Çkowita (z≈Ç)',
                    data: confirmedPriceData.map(d => d.totalPrice),
                    backgroundColor: '#4A7856',
                    borderColor: '#2F5233',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        distanceChartCanvas.chart = new Chart(distanceChartCanvas, {
            type: 'bar',
            data: {
                labels: knownDistanceData.map(d => d.title.substring(0,25) + (d.title.length > 25 ? '...' : '')),
                datasets: [{
                    label: 'Odleg≈Ço≈õƒá od Krup√≥wek (km)',
                    data: knownDistanceData.map(d => d.distance),
                    backgroundColor: '#A2B8A6',
                    borderColor: '#6E8B74',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true
                    }
                },
                 plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    };

    // Initialize the map after the DOM is loaded
    const initMap = () => {
        const map = L.map('map').setView([49.2991, 19.9575], 12); // Centered on Krup√≥wki, Zakopane

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Add markers for each accommodation with known coordinates
        accommodationData.forEach(offer => {
            if (offer.latitude && offer.longitude) {
                L.marker([offer.latitude, offer.longitude])
                    .addTo(map)
                    .bindPopup(`<b>${offer.title}</b><br>${offer.location || 'Zakopane'}<br>${offer.distance !== null ? `~${offer.distance} km od Krup√≥wek` : 'Odleg≈Ço≈õƒá nieznana'}`);
            }
        });
         // Add a marker for Krup√≥wki itself
        L.marker([49.2991, 19.9575], {
            icon: L.divIcon({
                className: 'my-custom-icon',
                html: '<div class="bg-red-600 text-white rounded-full p-1 text-xs font-bold text-center" style="min-width: 50px;">Krup√≥wki</div>',
                iconSize: [60, 20], // size of the icon
                iconAnchor: [30, 10] // point of the icon which will correspond to marker's location
            })
        }).addTo(map)
        .bindPopup('<b>Krup√≥wki</b><br>Centrum Zakopanego');
    };


    renderOffers();
    renderCharts();
    initMap(); // Call initMap to render the map
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
});
</script>

</body>
</html>
